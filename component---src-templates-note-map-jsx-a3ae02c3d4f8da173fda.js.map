{"version":3,"file":"component---src-templates-note-map-jsx-a3ae02c3d4f8da173fda.js","mappings":"4MAKMA,EAAWC,EAAQ,MAEV,SAASC,EAAT,GAAgC,IAAhBC,EAAe,EAAfA,YAEvBC,EAAY,CAChBC,MAAOC,OAAOC,KAAKJ,EAAYK,aAAaC,KAAI,SAACC,EAAKC,GACpD,MAAO,CAAEC,GAAIF,MAEfG,MAAO,IAMT,IAAK,IAAIC,KAHTV,EAAUC,MAAMU,KAAK,CAAEH,GAAI,WAAYI,MAAO,OAAQC,UAAW,SAG3Cd,EAAYK,YAAa,CAAC,IAAD,IACvCU,EAAgBf,EAAYK,YAAYM,GAE9C,IAAK,IAAIK,KAAKD,EAAe,CAC3B,IAAME,EAAeF,EAAcC,QAGWE,IAA1ClB,EAAYK,YAAYY,IAC1BhB,EAAUS,MAAME,KAAK,CAAEO,OAAQR,EAAWS,OAAQH,IAMpD,UAACjB,EAAYK,YAAYM,UAAzB,OAAC,EAAoCU,QACrC,UAACrB,EAAYsB,cAAcX,UAA3B,OAAC,EAAsCU,QAEvCpB,EAAUS,MAAME,KAAK,CACnBO,OAAQR,EACRS,OAAQ,WACRP,MAAO,SA6Cb,OACE,gBAAC,IAAD,KACE,uBAAKU,UAAU,kBACb,6CAEA,wCACe,IACb,gBAAC,KAAD,CAAMC,GAAG,YACP,8BAASrB,OAAOC,KAAKJ,EAAYK,aAAagB,UAIlD,uBAAKZ,GAAG,mBACN,gBAAC,KAAD,CACEA,GAAG,sBACHgB,KAAMxB,EACNyB,OAlDU,CAElBC,UAAU,EAEVC,gBAAiB,EACjBC,uBAAuB,EACvBC,uBAAuB,EACvBC,aAAa,EACbC,OAAQ,IACRC,MAAO,KAEPC,KAAM,CACJrB,MAAO,OACPsB,KAAM,IACNC,SAAU,GACVC,kBAAmB,GACnBC,oBAAqB,OACrBC,qBAAsB,QACtBC,qBAAsB,IACtBC,cAAe,OAEjBC,KAAM,CACJC,eAAgB,SAGlBC,GAAI,CACFC,YAAa,IACbC,SAAU,IACVC,WAAY,IACZC,aAAc,EACdC,kBAAkB,IAqBZC,YAzDU,SAAUC,GAC5B,IAAMC,EAAOvD,EAASsD,IACtBE,EAAAA,EAAAA,IAAS,IAAID","sources":["webpack://gatsby-garden/./src/templates/note-map.jsx"],"sourcesContent":["import React from 'react'\nimport { Link, navigate } from 'gatsby'\nimport { Graph } from 'react-d3-graph'\nimport Layout from '../layout/layout'\nimport '../styles/graph.css'\nconst makeSlug = require('../utils/make-slug')\n\nexport default function Note({ pageContext }) {\n  // Create the data for the graph visualisation for the note linking.\n  const graphData = {\n    nodes: Object.keys(pageContext.allRefersTo).map((key, index) => {\n      return { id: key }\n    }),\n    links: [],\n  }\n\n  graphData.nodes.push({ id: 'No Links', color: '#eee', fontColor: '#999' }) // All unlinked notes will link to this. So that the graphing library will render it properly.\n\n  // Set up the linkages between the notes.\n  for (let noteTitle in pageContext.allRefersTo) {\n    const refNoteTitles = pageContext.allRefersTo[noteTitle]\n\n    for (let i in refNoteTitles) {\n      const refNoteTitle = refNoteTitles[i]\n\n      // Show links to only the notes that exists. There will be some linking to non existing notes - that will break the graph.\n      if (pageContext.allRefersTo[refNoteTitle] !== undefined) {\n        graphData.links.push({ source: noteTitle, target: refNoteTitle })\n      }\n    }\n\n    // If this is an orphan note(no links to and from other notes), we need some hackery to get it to work.\n    if (\n      !pageContext.allRefersTo[noteTitle]?.length &&\n      !pageContext.allReferredBy[noteTitle]?.length\n    ) {\n      graphData.links.push({\n        source: noteTitle,\n        target: 'No Links',\n        color: '#eee',\n      })\n    }\n  }\n\n  const onClickNode = function (nodeId) {\n    const slug = makeSlug(nodeId)\n    navigate(`/${slug}`)\n  }\n\n  // the graph configuration, just override the ones you need\n  const graphConfig = {\n    // automaticRearrangeAfterDropNode: true,\n    directed: false, // If true, highlighting on mouseover will also be directed\n    // initialZoom: 1.4,\n    highlightDegree: 2,\n    nodeHighlightBehavior: true,\n    linkHighlightBehavior: true,\n    collapsible: true,\n    height: 800,\n    width: 1100,\n\n    node: {\n      color: 'gray',\n      size: 120,\n      fontSize: 10,\n      highlightFontSize: 10,\n      highlightFontWeight: 'bold',\n      highlightStrokeColor: 'black',\n      highlightStrokeWidth: 1.5,\n      labelPosition: 'top',\n    },\n    link: {\n      highlightColor: 'black',\n    },\n\n    d3: {\n      alphaTarget: 0.05,\n      gravity: -250,\n      linkLength: 120,\n      linkStrength: 2,\n      disableLinkForce: false,\n    },\n  }\n\n  return (\n    <Layout>\n      <div className=\"column is-half\">\n        <h1>Knowledge Graph</h1>\n\n        <p>\n          Total Notes:{' '}\n          <Link to=\"/sitemap\">\n            <strong>{Object.keys(pageContext.allRefersTo).length}</strong>\n          </Link>\n        </p>\n\n        <div id=\"graph-container\">\n          <Graph\n            id=\"all-note-link-graph\"\n            data={graphData}\n            config={graphConfig}\n            onClickNode={onClickNode}\n          />\n        </div>\n      </div>\n    </Layout>\n  )\n}\n"],"names":["makeSlug","require","Note","pageContext","graphData","nodes","Object","keys","allRefersTo","map","key","index","id","links","noteTitle","push","color","fontColor","refNoteTitles","i","refNoteTitle","undefined","source","target","length","allReferredBy","className","to","data","config","directed","highlightDegree","nodeHighlightBehavior","linkHighlightBehavior","collapsible","height","width","node","size","fontSize","highlightFontSize","highlightFontWeight","highlightStrokeColor","highlightStrokeWidth","labelPosition","link","highlightColor","d3","alphaTarget","gravity","linkLength","linkStrength","disableLinkForce","onClickNode","nodeId","slug","navigate"],"sourceRoot":""}